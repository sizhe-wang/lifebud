module.exports = [
"[project]/node_modules/@ag-ui/client/dist/index.mjs [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AbstractAgent",
    ()=>W,
    "BackwardCompatibility_0_0_39",
    ()=>J,
    "FilterToolCallsMiddleware",
    ()=>Q,
    "FunctionMiddleware",
    ()=>K,
    "HttpAgent",
    ()=>ot,
    "Middleware",
    ()=>k,
    "compactEvents",
    ()=>he,
    "convertToLegacyEvents",
    ()=>at,
    "defaultApplyEvents",
    ()=>$,
    "parseProtoStream",
    ()=>nt,
    "parseSSEStream",
    ()=>et,
    "randomUUID",
    ()=>Re,
    "runHttpRequest",
    ()=>tt,
    "structuredClone_",
    ()=>y,
    "transformChunks",
    ()=>j,
    "transformHttpEventStream",
    ()=>st,
    "verifyEvents",
    ()=>z
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ag-ui/core/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ag-ui/client/node_modules/rxjs/dist/cjs/operators/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ag-ui/client/node_modules/rxjs/dist/cjs/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm/v4.js [app-ssr] (ecmascript) <export default as v4>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/fast-json-patch/index.mjs [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$module$2f$core$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/fast-json-patch/module/core.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$untruncate$2d$json$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/untruncate-json/dist/esm/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$proto$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ag-ui/proto/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/zod/v3/external.js [app-ssr] (ecmascript) <export * as z>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$compare$2d$versions$2f$lib$2f$esm$2f$compareVersions$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/compare-versions/lib/esm/compareVersions.js [app-ssr] (ecmascript)");
var xt = Object.defineProperty, _t = Object.defineProperties;
var Nt = Object.getOwnPropertyDescriptors;
var Y = Object.getOwnPropertySymbols;
var it = Object.prototype.hasOwnProperty, lt = Object.prototype.propertyIsEnumerable;
var rt = (l, a, e)=>a in l ? xt(l, a, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: e
    }) : l[a] = e, N = (l, a)=>{
    for(var e in a || (a = {}))it.call(a, e) && rt(l, e, a[e]);
    if (Y) for (var e of Y(a))lt.call(a, e) && rt(l, e, a[e]);
    return l;
}, G = (l, a)=>_t(l, Nt(a));
var gt = (l, a)=>{
    var e = {};
    for(var n in l)it.call(l, n) && a.indexOf(n) < 0 && (e[n] = l[n]);
    if (l != null && Y) for (var n of Y(l))a.indexOf(n) < 0 && lt.call(l, n) && (e[n] = l[n]);
    return e;
};
;
;
;
;
var y = (l)=>{
    if (typeof structuredClone == "function") return structuredClone(l);
    try {
        return JSON.parse(JSON.stringify(l));
    } catch (a) {
        return N({}, l);
    }
};
function Re() {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])();
}
;
async function x(l, a, e, n) {
    let t = a, s = e, r;
    for (let o of l)try {
        let i = await n(o, y(t), y(s));
        if (i === void 0) continue;
        if (i.messages !== void 0 && (t = i.messages), i.state !== void 0 && (s = i.state), r = i.stopPropagation, r === !0) break;
    } catch (i) {
        ("TURBOPACK compile-time value", "development") === "test" || process.env.JEST_WORKER_ID !== void 0 || console.error("Subscriber error:", i);
        continue;
    }
    return N(N(N({}, JSON.stringify(t) !== JSON.stringify(a) ? {
        messages: t
    } : {}), JSON.stringify(s) !== JSON.stringify(e) ? {
        state: s
    } : {}), r !== void 0 ? {
        stopPropagation: r
    } : {});
}
;
var $ = (l, a, e, n)=>{
    let t = y(e.messages), s = y(l.state), r = {}, o = (d)=>{
        d.messages !== void 0 && (t = d.messages, r.messages = d.messages), d.state !== void 0 && (s = d.state, r.state = d.state);
    }, i = ()=>{
        let d = y(r);
        return r = {}, d.messages !== void 0 || d.state !== void 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(d) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EMPTY"];
    };
    return a.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["concatMap"])(async (d)=>{
        var T, v, c, b, U;
        let I = await x(n, t, s, (E, g, p)=>{
            var m;
            return (m = E.onEvent) == null ? void 0 : m.call(E, {
                event: d,
                agent: e,
                input: l,
                messages: g,
                state: p
            });
        });
        if (o(I), I.stopPropagation === !0) return i();
        switch(d.type){
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_START:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onTextMessageStartEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let { messageId: g, role: p = "assistant" } = d, m = {
                            id: g,
                            role: p,
                            content: ""
                        };
                        t.push(m), o({
                            messages: t
                        });
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT:
                {
                    let { messageId: E, delta: g } = d, p = t.find((u)=>u.id === E);
                    if (!p) return console.warn(`TEXT_MESSAGE_CONTENT: No message found with ID '${E}'`), i();
                    let m = await x(n, t, s, (u, A, h)=>{
                        var _;
                        return (_ = u.onTextMessageContentEvent) == null ? void 0 : _.call(u, {
                            event: d,
                            messages: A,
                            state: h,
                            agent: e,
                            input: l,
                            textMessageBuffer: typeof p.content == "string" ? p.content : ""
                        });
                    });
                    if (o(m), m.stopPropagation !== !0) {
                        let u = typeof p.content == "string" ? p.content : "";
                        p.content = `${u}${g}`, o({
                            messages: t
                        });
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_END:
                {
                    let { messageId: E } = d, g = t.find((m)=>m.id === E);
                    if (!g) return console.warn(`TEXT_MESSAGE_END: No message found with ID '${E}'`), i();
                    let p = await x(n, t, s, (m, u, A)=>{
                        var h;
                        return (h = m.onTextMessageEndEvent) == null ? void 0 : h.call(m, {
                            event: d,
                            messages: u,
                            state: A,
                            agent: e,
                            input: l,
                            textMessageBuffer: typeof g.content == "string" ? g.content : ""
                        });
                    });
                    return o(p), await Promise.all(n.map((m)=>{
                        var u;
                        (u = m.onNewMessage) == null || u.call(m, {
                            message: g,
                            messages: t,
                            state: s,
                            agent: e,
                            input: l
                        });
                    })), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onToolCallStartEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let { toolCallId: g, toolCallName: p, parentMessageId: m } = d, u;
                        m && t.length > 0 && t[t.length - 1].id === m ? u = t[t.length - 1] : (u = {
                            id: m || g,
                            role: "assistant",
                            toolCalls: []
                        }, t.push(u)), (T = u.toolCalls) != null || (u.toolCalls = []), u.toolCalls.push({
                            id: g,
                            type: "function",
                            function: {
                                name: p,
                                arguments: ""
                            }
                        }), o({
                            messages: t
                        });
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS:
                {
                    let { toolCallId: E, delta: g } = d, p = t.find((A)=>{
                        var h;
                        return (h = A.toolCalls) == null ? void 0 : h.some((_)=>_.id === E);
                    });
                    if (!p) return console.warn(`TOOL_CALL_ARGS: No message found containing tool call with ID '${E}'`), i();
                    let m = p.toolCalls.find((A)=>A.id === E);
                    if (!m) return console.warn(`TOOL_CALL_ARGS: No tool call found with ID '${E}'`), i();
                    let u = await x(n, t, s, (A, h, _)=>{
                        var Z;
                        let H = m.function.arguments, F = m.function.name, X = {};
                        try {
                            X = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$untruncate$2d$json$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(H);
                        } catch (ye) {}
                        return (Z = A.onToolCallArgsEvent) == null ? void 0 : Z.call(A, {
                            event: d,
                            messages: h,
                            state: _,
                            agent: e,
                            input: l,
                            toolCallBuffer: H,
                            toolCallName: F,
                            partialToolCallArgs: X
                        });
                    });
                    return o(u), u.stopPropagation !== !0 && (m.function.arguments += g, o({
                        messages: t
                    })), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END:
                {
                    let { toolCallId: E } = d, g = t.find((u)=>{
                        var A;
                        return (A = u.toolCalls) == null ? void 0 : A.some((h)=>h.id === E);
                    });
                    if (!g) return console.warn(`TOOL_CALL_END: No message found containing tool call with ID '${E}'`), i();
                    let p = g.toolCalls.find((u)=>u.id === E);
                    if (!p) return console.warn(`TOOL_CALL_END: No tool call found with ID '${E}'`), i();
                    let m = await x(n, t, s, (u, A, h)=>{
                        var X;
                        let _ = p.function.arguments, H = p.function.name, F = {};
                        try {
                            F = JSON.parse(_);
                        } catch (Z) {}
                        return (X = u.onToolCallEndEvent) == null ? void 0 : X.call(u, {
                            event: d,
                            messages: A,
                            state: h,
                            agent: e,
                            input: l,
                            toolCallName: H,
                            toolCallArgs: F
                        });
                    });
                    return o(m), await Promise.all(n.map((u)=>{
                        var A;
                        (A = u.onNewToolCall) == null || A.call(u, {
                            toolCall: p,
                            messages: t,
                            state: s,
                            agent: e,
                            input: l
                        });
                    })), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_RESULT:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onToolCallResultEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let { messageId: g, toolCallId: p, content: m, role: u } = d, A = {
                            id: g,
                            toolCallId: p,
                            role: u || "tool",
                            content: m
                        };
                        t.push(A), await Promise.all(n.map((h)=>{
                            var _;
                            (_ = h.onNewMessage) == null || _.call(h, {
                                message: A,
                                messages: t,
                                state: s,
                                agent: e,
                                input: l
                            });
                        })), o({
                            messages: t
                        });
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STATE_SNAPSHOT:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onStateSnapshotEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let { snapshot: g } = d;
                        s = g, o({
                            state: s
                        });
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STATE_DELTA:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onStateDeltaEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let { delta: g } = d;
                        try {
                            s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$module$2f$core$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["applyPatch"])(s, g, !0, !1).newDocument, o({
                                state: s
                            });
                        } catch (p) {
                            let m = p instanceof Error ? p.message : String(p);
                            console.warn(`Failed to apply state patch:
Current state: ${JSON.stringify(s, null, 2)}
Patch operations: ${JSON.stringify(g, null, 2)}
Error: ${m}`);
                        }
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].MESSAGES_SNAPSHOT:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onMessagesSnapshotEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let { messages: g } = d;
                        t = g, o({
                            messages: t
                        });
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].ACTIVITY_SNAPSHOT:
                {
                    let E = d, g = t.findIndex((h)=>h.id === E.messageId), p = g >= 0 ? t[g] : void 0, m = (p == null ? void 0 : p.role) === "activity" ? p : void 0, u = (v = E.replace) != null ? v : !0, A = await x(n, t, s, (h, _, H)=>{
                        var F;
                        return (F = h.onActivitySnapshotEvent) == null ? void 0 : F.call(h, {
                            event: E,
                            messages: _,
                            state: H,
                            agent: e,
                            input: l,
                            activityMessage: m,
                            existingMessage: p
                        });
                    });
                    if (o(A), A.stopPropagation !== !0) {
                        let h = {
                            id: E.messageId,
                            role: "activity",
                            activityType: E.activityType,
                            content: y(E.content)
                        }, _;
                        g === -1 ? (t.push(h), _ = h) : m ? u && (t[g] = G(N({}, m), {
                            activityType: E.activityType,
                            content: y(E.content)
                        })) : u && (t[g] = h, _ = h), o({
                            messages: t
                        }), _ && await Promise.all(n.map((H)=>{
                            var F;
                            return (F = H.onNewMessage) == null ? void 0 : F.call(H, {
                                message: _,
                                messages: t,
                                state: s,
                                agent: e,
                                input: l
                            });
                        }));
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].ACTIVITY_DELTA:
                {
                    let E = d, g = t.findIndex((A)=>A.id === E.messageId);
                    if (g === -1) return console.warn(`ACTIVITY_DELTA: No message found with ID '${E.messageId}' to apply patch`), i();
                    let p = t[g];
                    if (p.role !== "activity") return console.warn(`ACTIVITY_DELTA: Message '${E.messageId}' is not an activity message`), i();
                    let m = p, u = await x(n, t, s, (A, h, _)=>{
                        var H;
                        return (H = A.onActivityDeltaEvent) == null ? void 0 : H.call(A, {
                            event: E,
                            messages: h,
                            state: _,
                            agent: e,
                            input: l,
                            activityMessage: m
                        });
                    });
                    if (o(u), u.stopPropagation !== !0) try {
                        let A = y((c = m.content) != null ? c : {}), _ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$module$2f$core$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["applyPatch"])(A, (b = E.patch) != null ? b : [], !0, !1).newDocument;
                        t[g] = G(N({}, m), {
                            content: y(_),
                            activityType: E.activityType
                        }), o({
                            messages: t
                        });
                    } catch (A) {
                        let h = A instanceof Error ? A.message : String(A);
                        console.warn(`Failed to apply activity patch for '${E.messageId}': ${h}`);
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RAW:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onRawEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    return o(E), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].CUSTOM:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onCustomEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    return o(E), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onRunStartedEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    if (o(E), E.stopPropagation !== !0) {
                        let g = d;
                        if ((U = g.input) != null && U.messages) {
                            for (let p of g.input.messages)t.find((u)=>u.id === p.id) || t.push(p);
                            o({
                                messages: t
                            });
                        }
                    }
                    return i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_FINISHED:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onRunFinishedEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l,
                            result: d.result
                        });
                    });
                    return o(E), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onRunErrorEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    return o(E), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_STARTED:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onStepStartedEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    return o(E), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_FINISHED:
                {
                    let E = await x(n, t, s, (g, p, m)=>{
                        var u;
                        return (u = g.onStepFinishedEvent) == null ? void 0 : u.call(g, {
                            event: d,
                            messages: p,
                            state: m,
                            agent: e,
                            input: l
                        });
                    });
                    return o(E), i();
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CHUNK:
                throw new Error("TEXT_MESSAGE_CHUNK must be tranformed before being applied");
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_CHUNK:
                throw new Error("TOOL_CALL_CHUNK must be tranformed before being applied");
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_START:
                return i();
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_END:
                return i();
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_START:
                return i();
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_CONTENT:
                return i();
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_END:
                return i();
        }
        let S = d.type;
        return i();
    }), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["mergeAll"])(), n.length > 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defaultIfEmpty"])({}) : (d)=>d);
};
;
;
;
var z = (l)=>(a)=>{
        let e = new Map, n = new Map, t = !1, s = !1, r = !1, o = new Map, i = !1, d = !1, I = !1, S = ()=>{
            e.clear(), n.clear(), o.clear(), i = !1, d = !1, t = !1, s = !1, I = !0;
        };
        return a.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["mergeMap"])((T)=>{
            let v = T.type;
            if (l && console.debug("[VERIFY]:", JSON.stringify(T)), s) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send event type '${v}': The run has already errored with 'RUN_ERROR'. No further events can be sent.`));
            if (t && v !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR && v !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send event type '${v}': The run has already finished with 'RUN_FINISHED'. Start a new run with 'RUN_STARTED'.`));
            if (r) {
                if (v === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED) {
                    if (I && !t) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'RUN_STARTED' while a run is still active. The previous run must be finished with 'RUN_FINISHED' before starting a new run."));
                    t && S();
                }
            } else if (r = !0, v !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED && v !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("First event must be 'RUN_STARTED'"));
            switch(v){
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_START:
                    {
                        let c = T.messageId;
                        return e.has(c) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'TEXT_MESSAGE_START' event: A text message with ID '${c}' is already in progress. Complete it with 'TEXT_MESSAGE_END' first.`)) : (e.set(c, !0), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT:
                    {
                        let c = T.messageId;
                        return e.has(c) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'TEXT_MESSAGE_CONTENT' event: No active text message found with ID '${c}'. Start a text message with 'TEXT_MESSAGE_START' first.`));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_END:
                    {
                        let c = T.messageId;
                        return e.has(c) ? (e.delete(c), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T)) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'TEXT_MESSAGE_END' event: No active text message found with ID '${c}'. A 'TEXT_MESSAGE_START' event must be sent first.`));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START:
                    {
                        let c = T.toolCallId;
                        return n.has(c) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'TOOL_CALL_START' event: A tool call with ID '${c}' is already in progress. Complete it with 'TOOL_CALL_END' first.`)) : (n.set(c, !0), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS:
                    {
                        let c = T.toolCallId;
                        return n.has(c) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'TOOL_CALL_ARGS' event: No active tool call found with ID '${c}'. Start a tool call with 'TOOL_CALL_START' first.`));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END:
                    {
                        let c = T.toolCallId;
                        return n.has(c) ? (n.delete(c), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T)) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'TOOL_CALL_END' event: No active tool call found with ID '${c}'. A 'TOOL_CALL_START' event must be sent first.`));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_STARTED:
                    {
                        let c = T.stepName;
                        return o.has(c) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Step "${c}" is already active for 'STEP_STARTED'`)) : (o.set(c, !0), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_FINISHED:
                    {
                        let c = T.stepName;
                        return o.has(c) ? (o.delete(c), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T)) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'STEP_FINISHED' for step "${c}" that was not started`));
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED:
                    return I = !0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T);
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_FINISHED:
                    {
                        if (o.size > 0) {
                            let c = Array.from(o.keys()).join(", ");
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'RUN_FINISHED' while steps are still active: ${c}`));
                        }
                        if (e.size > 0) {
                            let c = Array.from(e.keys()).join(", ");
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'RUN_FINISHED' while text messages are still active: ${c}`));
                        }
                        if (n.size > 0) {
                            let c = Array.from(n.keys()).join(", ");
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"](`Cannot send 'RUN_FINISHED' while tool calls are still active: ${c}`));
                        }
                        return t = !0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T);
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR:
                    return s = !0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T);
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].CUSTOM:
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T);
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_START:
                    return i ? d ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'THINKING_TEXT_MESSAGE_START' event: A thinking message is already in progress. Complete it with 'THINKING_TEXT_MESSAGE_END' first.")) : (d = !0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T)) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'THINKING_TEXT_MESSAGE_START' event: A thinking step is not in progress. Create one with 'THINKING_START' first."));
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_CONTENT:
                    return d ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'THINKING_TEXT_MESSAGE_CONTENT' event: No active thinking message found. Start a message with 'THINKING_TEXT_MESSAGE_START' first."));
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_END:
                    return d ? (d = !1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T)) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'THINKING_TEXT_MESSAGE_END' event: No active thinking message found. A 'THINKING_TEXT_MESSAGE_START' event must be sent first."));
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_START:
                    return i ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'THINKING_START' event: A thinking step is already in progress. End it with 'THINKING_END' first.")) : (i = !0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T));
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_END:
                    return i ? (i = !1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T)) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"]("Cannot send 'THINKING_END' event: No active thinking step found. A 'THINKING_START' event must be sent first."));
                default:
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(T);
            }
        }));
    };
;
;
;
;
var tt = (l, a)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defer"])(()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["from"])(fetch(l, a))).pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["switchMap"])((e)=>{
        var s;
        if (!e.ok) {
            let r = e.headers.get("content-type") || "";
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["from"])(e.text()).pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["mergeMap"])((o)=>{
                let i = o;
                if (r.includes("application/json")) try {
                    i = JSON.parse(o);
                } catch (I) {}
                let d = new Error(`HTTP ${e.status}: ${typeof i == "string" ? i : JSON.stringify(i)}`);
                return d.status = e.status, d.payload = i, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>d);
            }));
        }
        let n = {
            type: "headers",
            status: e.status,
            headers: e.headers
        }, t = (s = e.body) == null ? void 0 : s.getReader();
        return t ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Observable"]((r)=>(r.next(n), (async ()=>{
                try {
                    for(;;){
                        let { done: o, value: i } = await t.read();
                        if (o) break;
                        let d = {
                            type: "data",
                            data: i
                        };
                        r.next(d);
                    }
                    r.complete();
                } catch (o) {
                    r.error(o);
                }
            })(), ()=>{
                t.cancel().catch((o)=>{
                    if ((o == null ? void 0 : o.name) !== "AbortError") throw o;
                });
            })) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["throwError"])(()=>new Error("Failed to getReader() from response"));
    }));
;
var et = (l)=>{
    let a = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Subject"], e = new TextDecoder("utf-8", {
        fatal: !1
    }), n = "";
    l.subscribe({
        next: (s)=>{
            if (s.type !== "headers" && s.type === "data" && s.data) {
                let r = e.decode(s.data, {
                    stream: !0
                });
                n += r;
                let o = n.split(/\n\n/);
                n = o.pop() || "";
                for (let i of o)t(i);
            }
        },
        error: (s)=>a.error(s),
        complete: ()=>{
            n && (n += e.decode(), t(n)), a.complete();
        }
    });
    function t(s) {
        let r = s.split(`
`), o = [];
        for (let i of r)i.startsWith("data: ") && o.push(i.slice(6));
        if (o.length > 0) try {
            let i = o.join(`
`), d = JSON.parse(i);
            a.next(d);
        } catch (i) {
            a.error(i);
        }
    }
    return a.asObservable();
};
;
;
var nt = (l)=>{
    let a = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Subject"], e = new Uint8Array(0);
    l.subscribe({
        next: (t)=>{
            if (t.type !== "headers" && t.type === "data" && t.data) {
                let s = new Uint8Array(e.length + t.data.length);
                s.set(e, 0), s.set(t.data, e.length), e = s, n();
            }
        },
        error: (t)=>a.error(t),
        complete: ()=>{
            if (e.length > 0) try {
                n();
            } catch (t) {
                console.warn("Incomplete or invalid protocol buffer data at stream end");
            }
            a.complete();
        }
    });
    function n() {
        for(; e.length >= 4;){
            let r = 4 + new DataView(e.buffer, e.byteOffset, 4).getUint32(0, !1);
            if (e.length < r) break;
            try {
                let o = e.slice(4, r), i = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$proto$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["decode"](o);
                a.next(i), e = e.slice(r);
            } catch (o) {
                let i = o instanceof Error ? o.message : String(o);
                a.error(new Error(`Failed to decode protocol buffer message: ${i}`));
                return;
            }
        }
    }
    return a.asObservable();
};
;
;
var st = (l)=>{
    let a = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Subject"], e = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ReplaySubject"], n = !1;
    return l.subscribe({
        next: (t)=>{
            e.next(t), t.type === "headers" && !n ? (n = !0, t.headers.get("content-type") === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$proto$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUI_MEDIA_TYPE"] ? nt(e).subscribe({
                next: (r)=>a.next(r),
                error: (r)=>a.error(r),
                complete: ()=>a.complete()
            }) : et(e).subscribe({
                next: (r)=>{
                    try {
                        let o = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventSchemas"].parse(r);
                        a.next(o);
                    } catch (o) {
                        a.error(o);
                    }
                },
                error: (r)=>{
                    if ((r == null ? void 0 : r.name) === "AbortError") {
                        a.next({
                            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR,
                            rawEvent: r
                        }), a.complete();
                        return;
                    }
                    return a.error(r);
                },
                complete: ()=>a.complete()
            })) : n || a.error(new Error("No headers event received before data events"));
        },
        error: (t)=>{
            e.error(t), a.error(t);
        },
        complete: ()=>{
            e.complete();
        }
    }), a.asObservable();
};
;
;
;
;
var C = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
    "TextMessageStart",
    "TextMessageContent",
    "TextMessageEnd",
    "ActionExecutionStart",
    "ActionExecutionArgs",
    "ActionExecutionEnd",
    "ActionExecutionResult",
    "AgentStateMessage",
    "MetaEvent",
    "RunStarted",
    "RunFinished",
    "RunError",
    "NodeStarted",
    "NodeFinished"
]), Vt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].enum([
    "LangGraphInterruptEvent",
    "PredictState",
    "Exit"
]), Wt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.TextMessageStart),
    messageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    parentMessageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    role: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
}), Yt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.TextMessageContent),
    messageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    content: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
}), qt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.TextMessageEnd),
    messageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
}), Qt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.ActionExecutionStart),
    actionExecutionId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    actionName: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    parentMessageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
}), Zt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.ActionExecutionArgs),
    actionExecutionId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    args: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
}), te = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.ActionExecutionEnd),
    actionExecutionId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
}), ee = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.ActionExecutionResult),
    actionName: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    actionExecutionId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    result: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
}), ne = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.AgentStateMessage),
    threadId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    agentName: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    nodeName: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    runId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    active: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean(),
    role: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    state: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    running: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].boolean()
}), se = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.MetaEvent),
    name: Vt,
    value: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any()
}), ae = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].literal(C.enum.RunError),
    message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    code: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
}), Qn = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].discriminatedUnion("type", [
    Wt,
    Yt,
    qt,
    Qt,
    Zt,
    te,
    ee,
    ne,
    se,
    ae
]), Zn = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    role: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    content: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    parentMessageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
}), ts = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    arguments: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any(),
    parentMessageId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
}), es = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    id: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    result: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].any(),
    actionExecutionId: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string(),
    actionName: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$zod$2f$v3$2f$external$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string()
});
;
var le = (l)=>{
    if (typeof l == "string") return l;
    if (!Array.isArray(l)) return;
    let a = l.filter((e)=>e.type === "text").map((e)=>e.text).filter((e)=>e.length > 0);
    if (a.length !== 0) return a.join(`
`);
}, at = (l, a, e)=>(n)=>{
        let t = {}, s = !0, r = !0, o = "", i = null, d = null, I = [], S = {}, T = (v)=>{
            typeof v == "object" && v !== null && ("messages" in v && delete v.messages, t = v);
        };
        return n.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["mergeMap"])((v)=>{
            switch(v.type){
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_START:
                    {
                        let c = v;
                        return [
                            {
                                type: C.enum.TextMessageStart,
                                messageId: c.messageId,
                                role: c.role
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT:
                    {
                        let c = v;
                        return [
                            {
                                type: C.enum.TextMessageContent,
                                messageId: c.messageId,
                                content: c.delta
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_END:
                    {
                        let c = v;
                        return [
                            {
                                type: C.enum.TextMessageEnd,
                                messageId: c.messageId
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START:
                    {
                        let c = v;
                        return I.push({
                            id: c.toolCallId,
                            type: "function",
                            function: {
                                name: c.toolCallName,
                                arguments: ""
                            }
                        }), r = !0, S[c.toolCallId] = c.toolCallName, [
                            {
                                type: C.enum.ActionExecutionStart,
                                actionExecutionId: c.toolCallId,
                                actionName: c.toolCallName,
                                parentMessageId: c.parentMessageId
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS:
                    {
                        let c = v, b = I.find((E)=>E.id === c.toolCallId);
                        if (!b) return console.warn(`TOOL_CALL_ARGS: No tool call found with ID '${c.toolCallId}'`), [];
                        b.function.arguments += c.delta;
                        let U = !1;
                        if (d) {
                            let E = d.find((g)=>g.tool == b.function.name);
                            if (E) try {
                                let g = JSON.parse((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$untruncate$2d$json$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(b.function.arguments));
                                E.tool_argument && E.tool_argument in g ? (T(G(N({}, t), {
                                    [E.state_key]: g[E.tool_argument]
                                })), U = !0) : E.tool_argument || (T(G(N({}, t), {
                                    [E.state_key]: g
                                })), U = !0);
                            } catch (g) {}
                        }
                        return [
                            {
                                type: C.enum.ActionExecutionArgs,
                                actionExecutionId: c.toolCallId,
                                args: c.delta
                            },
                            ...U ? [
                                {
                                    type: C.enum.AgentStateMessage,
                                    threadId: l,
                                    agentName: e,
                                    nodeName: o,
                                    runId: a,
                                    running: s,
                                    role: "assistant",
                                    state: JSON.stringify(t),
                                    active: r
                                }
                            ] : []
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END:
                    {
                        let c = v;
                        return [
                            {
                                type: C.enum.ActionExecutionEnd,
                                actionExecutionId: c.toolCallId
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_RESULT:
                    {
                        let c = v;
                        return [
                            {
                                type: C.enum.ActionExecutionResult,
                                actionExecutionId: c.toolCallId,
                                result: c.content,
                                actionName: S[c.toolCallId] || "unknown"
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RAW:
                    return [];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].CUSTOM:
                    {
                        let c = v;
                        switch(c.name){
                            case "Exit":
                                s = !1;
                                break;
                            case "PredictState":
                                d = c.value;
                                break;
                        }
                        return [
                            {
                                type: C.enum.MetaEvent,
                                name: c.name,
                                value: c.value
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STATE_SNAPSHOT:
                    return T(v.snapshot), [
                        {
                            type: C.enum.AgentStateMessage,
                            threadId: l,
                            agentName: e,
                            nodeName: o,
                            runId: a,
                            running: s,
                            role: "assistant",
                            state: JSON.stringify(t),
                            active: r
                        }
                    ];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STATE_DELTA:
                    {
                        let b = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$module$2f$core$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["applyPatch"])(t, v.delta, !0, !1);
                        return b ? (T(b.newDocument), [
                            {
                                type: C.enum.AgentStateMessage,
                                threadId: l,
                                agentName: e,
                                nodeName: o,
                                runId: a,
                                running: s,
                                role: "assistant",
                                state: JSON.stringify(t),
                                active: r
                            }
                        ]) : [];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].MESSAGES_SNAPSHOT:
                    return i = v.messages, [
                        {
                            type: C.enum.AgentStateMessage,
                            threadId: l,
                            agentName: e,
                            nodeName: o,
                            runId: a,
                            running: s,
                            role: "assistant",
                            state: JSON.stringify(N(N({}, t), i ? {
                                messages: i
                            } : {})),
                            active: !0
                        }
                    ];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED:
                    return [];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_FINISHED:
                    return i && (t.messages = i), Object.keys(t).length === 0 ? [] : [
                        {
                            type: C.enum.AgentStateMessage,
                            threadId: l,
                            agentName: e,
                            nodeName: o,
                            runId: a,
                            running: s,
                            role: "assistant",
                            state: JSON.stringify(N(N({}, t), i ? {
                                messages: ge(i)
                            } : {})),
                            active: !1
                        }
                    ];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR:
                    {
                        let c = v;
                        return [
                            {
                                type: C.enum.RunError,
                                message: c.message,
                                code: c.code
                            }
                        ];
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_STARTED:
                    return o = v.stepName, I = [], d = null, [
                        {
                            type: C.enum.AgentStateMessage,
                            threadId: l,
                            agentName: e,
                            nodeName: o,
                            runId: a,
                            running: s,
                            role: "assistant",
                            state: JSON.stringify(t),
                            active: !0
                        }
                    ];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_FINISHED:
                    return I = [], d = null, [
                        {
                            type: C.enum.AgentStateMessage,
                            threadId: l,
                            agentName: e,
                            nodeName: o,
                            runId: a,
                            running: s,
                            role: "assistant",
                            state: JSON.stringify(t),
                            active: !1
                        }
                    ];
                default:
                    return [];
            }
        }));
    };
function ge(l) {
    var e;
    let a = [];
    for (let n of l)if (n.role === "assistant" || n.role === "user" || n.role === "system") {
        let t = le(n.content);
        if (t) {
            let s = {
                id: n.id,
                role: n.role,
                content: t
            };
            a.push(s);
        }
        if (n.role === "assistant" && n.toolCalls && n.toolCalls.length > 0) for (let s of n.toolCalls){
            let r = {
                id: s.id,
                name: s.function.name,
                arguments: JSON.parse(s.function.arguments),
                parentMessageId: n.id
            };
            a.push(r);
        }
    } else if (n.role === "tool") {
        let t = "unknown";
        for (let r of l)if (r.role === "assistant" && (e = r.toolCalls) != null && e.length) {
            for (let o of r.toolCalls)if (o.id === n.toolCallId) {
                t = o.function.name;
                break;
            }
        }
        let s = {
            id: n.id,
            result: n.content,
            actionExecutionId: n.toolCallId,
            actionName: t
        };
        a.push(s);
    }
    return a;
}
;
;
;
;
;
;
;
;
;
var j = (l)=>(a)=>{
        let e, n, t, s = ()=>{
            if (!e || t !== "text") throw new Error("No text message to close");
            let i = {
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_END,
                messageId: e.messageId
            };
            return t = void 0, e = void 0, l && console.debug("[TRANSFORM]: TEXT_MESSAGE_END", JSON.stringify(i)), i;
        }, r = ()=>{
            if (!n || t !== "tool") throw new Error("No tool call to close");
            let i = {
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END,
                toolCallId: n.toolCallId
            };
            return t = void 0, n = void 0, l && console.debug("[TRANSFORM]: TOOL_CALL_END", JSON.stringify(i)), i;
        }, o = ()=>t === "text" ? [
                s()
            ] : t === "tool" ? [
                r()
            ] : [];
        return a.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["mergeMap"])((i)=>{
            switch(i.type){
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_START:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_END:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_RESULT:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STATE_SNAPSHOT:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STATE_DELTA:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].MESSAGES_SNAPSHOT:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].CUSTOM:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_STARTED:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_FINISHED:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RUN_ERROR:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_STARTED:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].STEP_FINISHED:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_START:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_END:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_START:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_CONTENT:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].THINKING_TEXT_MESSAGE_END:
                    return [
                        ...o(),
                        i
                    ];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].RAW:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].ACTIVITY_SNAPSHOT:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].ACTIVITY_DELTA:
                    return [
                        i
                    ];
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CHUNK:
                    let I = i, S = [];
                    if ((t !== "text" || I.messageId !== void 0 && I.messageId !== (e == null ? void 0 : e.messageId)) && S.push(...o()), t !== "text") {
                        if (I.messageId === void 0) throw new Error("First TEXT_MESSAGE_CHUNK must have a messageId");
                        e = {
                            messageId: I.messageId
                        }, t = "text";
                        let c = {
                            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_START,
                            messageId: I.messageId,
                            role: I.role || "assistant"
                        };
                        S.push(c), l && console.debug("[TRANSFORM]: TEXT_MESSAGE_START", JSON.stringify(c));
                    }
                    if (I.delta !== void 0) {
                        let c = {
                            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT,
                            messageId: e.messageId,
                            delta: I.delta
                        };
                        S.push(c), l && console.debug("[TRANSFORM]: TEXT_MESSAGE_CONTENT", JSON.stringify(c));
                    }
                    return S;
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_CHUNK:
                    let T = i, v = [];
                    if ((t !== "tool" || T.toolCallId !== void 0 && T.toolCallId !== (n == null ? void 0 : n.toolCallId)) && v.push(...o()), t !== "tool") {
                        if (T.toolCallId === void 0) throw new Error("First TOOL_CALL_CHUNK must have a toolCallId");
                        if (T.toolCallName === void 0) throw new Error("First TOOL_CALL_CHUNK must have a toolCallName");
                        n = {
                            toolCallId: T.toolCallId,
                            toolCallName: T.toolCallName,
                            parentMessageId: T.parentMessageId
                        }, t = "tool";
                        let c = {
                            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START,
                            toolCallId: T.toolCallId,
                            toolCallName: T.toolCallName,
                            parentMessageId: T.parentMessageId
                        };
                        v.push(c), l && console.debug("[TRANSFORM]: TOOL_CALL_START", JSON.stringify(c));
                    }
                    if (T.delta !== void 0) {
                        let c = {
                            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS,
                            toolCallId: n.toolCallId,
                            delta: T.delta
                        };
                        v.push(c), l && console.debug("[TRANSFORM]: TOOL_CALL_ARGS", JSON.stringify(c));
                    }
                    return v;
            }
            let d = i.type;
            return [];
        }), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["finalize"])(()=>{
            o();
        }));
    };
;
;
;
var k = class {
    runNext(a, e) {
        return e.run(a).pipe(j(!1));
    }
    runNextWithState(a, e) {
        let n = y(a.messages || []), t = y(a.state || {}), s = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ReplaySubject"];
        return $(a, s, e, []).subscribe((o)=>{
            o.messages !== void 0 && (n = o.messages), o.state !== void 0 && (t = o.state);
        }), this.runNext(a, e).pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["concatMap"])(async (o)=>(s.next(o), await new Promise((i)=>setTimeout(i, 0)), {
                event: o,
                messages: y(n),
                state: y(t)
            })));
    }
}, K = class extends k {
    constructor(e){
        super();
        this.fn = e;
    }
    run(e, n) {
        return this.fn(e, n);
    }
};
;
;
var Q = class extends k {
    constructor(e){
        super();
        this.blockedToolCallIds = new Set;
        if (e.allowedToolCalls && e.disallowedToolCalls) throw new Error("Cannot specify both allowedToolCalls and disallowedToolCalls");
        if (!e.allowedToolCalls && !e.disallowedToolCalls) throw new Error("Must specify either allowedToolCalls or disallowedToolCalls");
        e.allowedToolCalls ? this.allowedTools = new Set(e.allowedToolCalls) : e.disallowedToolCalls && (this.disallowedTools = new Set(e.disallowedToolCalls));
    }
    run(e, n) {
        return this.runNext(e, n).pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["filter"])((t)=>{
            if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START) {
                let s = t;
                return this.shouldFilterTool(s.toolCallName) ? (this.blockedToolCallIds.add(s.toolCallId), !1) : !0;
            }
            if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS) {
                let s = t;
                return !this.blockedToolCallIds.has(s.toolCallId);
            }
            if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END) {
                let s = t;
                return !this.blockedToolCallIds.has(s.toolCallId);
            }
            if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_RESULT) {
                let s = t;
                return this.blockedToolCallIds.has(s.toolCallId) ? (this.blockedToolCallIds.delete(s.toolCallId), !1) : !0;
            }
            return !0;
        }));
    }
    shouldFilterTool(e) {
        return this.allowedTools ? !this.allowedTools.has(e) : this.disallowedTools ? this.disallowedTools.has(e) : !1;
    }
};
function me(l) {
    let a = l.content;
    if (Array.isArray(a)) {
        let e = a.filter((n)=>typeof n == "object" && n !== null && "type" in n && n.type === "text" && typeof n.text == "string").map((n)=>n.text).join("");
        return G(N({}, l), {
            content: e
        });
    }
    return typeof a == "string" ? l : G(N({}, l), {
        content: ""
    });
}
var J = class extends k {
    run(a, e) {
        let r = a, { parentRunId: n } = r, t = gt(r, [
            "parentRunId"
        ]), s = G(N({}, t), {
            messages: t.messages.map(me)
        });
        return this.runNext(s, e);
    }
};
var mt = {
    name: "@ag-ui/client",
    author: "Markus Ecker <markus.ecker@gmail.com>",
    version: "0.0.42",
    private: !1,
    publishConfig: {
        access: "public"
    },
    main: "./dist/index.js",
    module: "./dist/index.mjs",
    types: "./dist/index.d.ts",
    sideEffects: !1,
    files: [
        "dist/**",
        "README.md"
    ],
    scripts: {
        build: "tsup",
        dev: "tsup --watch",
        clean: "rm -rf dist .turbo node_modules",
        typecheck: "tsc --noEmit",
        test: "jest",
        "link:global": "pnpm link --global",
        "unlink:global": "pnpm unlink --global"
    },
    dependencies: {
        "@ag-ui/core": "workspace:*",
        "@ag-ui/encoder": "workspace:*",
        "@ag-ui/proto": "workspace:*",
        "@types/uuid": "^10.0.0",
        "compare-versions": "^6.1.1",
        "fast-json-patch": "^3.1.1",
        rxjs: "7.8.1",
        "untruncate-json": "^0.0.1",
        uuid: "^11.1.0",
        zod: "^3.22.4"
    },
    devDependencies: {
        "@types/jest": "^29.5.14",
        "@types/node": "^20.11.19",
        jest: "^29.7.0",
        "ts-jest": "^29.1.2",
        tsup: "^8.0.2",
        typescript: "^5.3.3"
    }
};
var W = class {
    constructor({ agentId: a, description: e, threadId: n, initialMessages: t, initialState: s, debug: r } = {}){
        this.debug = !1;
        this.subscribers = [];
        this.isRunning = !1;
        this.middlewares = [];
        this.agentId = a, this.description = e != null ? e : "", this.threadId = n != null ? n : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])(), this.messages = y(t != null ? t : []), this.state = y(s != null ? s : {}), this.debug = r != null ? r : !1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$compare$2d$versions$2f$lib$2f$esm$2f$compareVersions$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareVersions"])(this.maxVersion, "0.0.39") <= 0 && this.middlewares.unshift(new J);
    }
    get maxVersion() {
        return mt.version;
    }
    subscribe(a) {
        return this.subscribers.push(a), {
            unsubscribe: ()=>{
                this.subscribers = this.subscribers.filter((e)=>e !== a);
            }
        };
    }
    use(...a) {
        let e = a.map((n)=>typeof n == "function" ? new K(n) : n);
        return this.middlewares.push(...e), this;
    }
    async runAgent(a, e) {
        var n;
        try {
            this.isRunning = !0, this.agentId = (n = this.agentId) != null ? n : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])();
            let t = this.prepareRunAgentInput(a), s, r = new Set(this.messages.map((S)=>S.id)), o = [
                {
                    onRunFinishedEvent: (S)=>{
                        s = S.result;
                    }
                },
                ...this.subscribers,
                e != null ? e : {}
            ];
            await this.onInitialize(t, o), this.activeRunDetach$ = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Subject"];
            let i;
            this.activeRunCompletionPromise = new Promise((S)=>{
                i = S;
            });
            let d = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["pipe"])(()=>this.middlewares.length === 0 ? this.run(t) : this.middlewares.reduceRight((T, v)=>({
                        run: (c)=>v.run(c, T)
                    }), this).run(t), j(this.debug), z(this.debug), (S)=>S.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["takeUntil"])(this.activeRunDetach$)), (S)=>this.apply(t, S, o), (S)=>this.processApplyEvents(t, S, o), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["catchError"])((S)=>(this.isRunning = !1, this.onError(t, S, o))), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["finalize"])(()=>{
                this.isRunning = !1, this.onFinalize(t, o), i == null || i(), i = void 0, this.activeRunCompletionPromise = void 0, this.activeRunDetach$ = void 0;
            }));
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["lastValueFrom"])(d((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(null)));
            let I = y(this.messages).filter((S)=>!r.has(S.id));
            return {
                result: s,
                newMessages: I
            };
        } finally{
            this.isRunning = !1;
        }
    }
    connect(a) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIConnectNotImplementedError"];
    }
    async connectAgent(a, e) {
        var n;
        try {
            this.isRunning = !0, this.agentId = (n = this.agentId) != null ? n : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])();
            let t = this.prepareRunAgentInput(a), s, r = new Set(this.messages.map((S)=>S.id)), o = [
                {
                    onRunFinishedEvent: (S)=>{
                        s = S.result;
                    }
                },
                ...this.subscribers,
                e != null ? e : {}
            ];
            await this.onInitialize(t, o), this.activeRunDetach$ = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Subject"];
            let i;
            this.activeRunCompletionPromise = new Promise((S)=>{
                i = S;
            });
            let d = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["pipe"])(()=>this.connect(t), j(this.debug), z(this.debug), (S)=>S.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["takeUntil"])(this.activeRunDetach$)), (S)=>this.apply(t, S, o), (S)=>this.processApplyEvents(t, S, o), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["catchError"])((S)=>(this.isRunning = !1, S instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIConnectNotImplementedError"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EMPTY"] : this.onError(t, S, o))), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["finalize"])(()=>{
                this.isRunning = !1, this.onFinalize(t, o), i == null || i(), i = void 0, this.activeRunCompletionPromise = void 0, this.activeRunDetach$ = void 0;
            }));
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["lastValueFrom"])(d((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["of"])(null)));
            let I = y(this.messages).filter((S)=>!r.has(S.id));
            return {
                result: s,
                newMessages: I
            };
        } finally{
            this.isRunning = !1;
        }
    }
    abortRun() {}
    async detachActiveRun() {
        var e, n;
        if (!this.activeRunDetach$) return;
        let a = (e = this.activeRunCompletionPromise) != null ? e : Promise.resolve();
        this.activeRunDetach$.next(), (n = this.activeRunDetach$) == null || n.complete(), await a;
    }
    apply(a, e, n) {
        return $(a, e, this, n);
    }
    processApplyEvents(a, e, n) {
        return e.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tap"])((t)=>{
            t.messages && (this.messages = t.messages, n.forEach((s)=>{
                var r;
                (r = s.onMessagesChanged) == null || r.call(s, {
                    messages: this.messages,
                    state: this.state,
                    agent: this,
                    input: a
                });
            })), t.state && (this.state = t.state, n.forEach((s)=>{
                var r;
                (r = s.onStateChanged) == null || r.call(s, {
                    state: this.state,
                    messages: this.messages,
                    agent: this,
                    input: a
                });
            }));
        }));
    }
    prepareRunAgentInput(a) {
        var t, s, r;
        let n = y(this.messages).filter((o)=>o.role !== "activity");
        return {
            threadId: this.threadId,
            runId: (a == null ? void 0 : a.runId) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])(),
            tools: y((t = a == null ? void 0 : a.tools) != null ? t : []),
            context: y((s = a == null ? void 0 : a.context) != null ? s : []),
            forwardedProps: y((r = a == null ? void 0 : a.forwardedProps) != null ? r : {}),
            state: y(this.state),
            messages: n
        };
    }
    async onInitialize(a, e) {
        let n = await x(e, this.messages, this.state, (t, s, r)=>{
            var o;
            return (o = t.onRunInitialized) == null ? void 0 : o.call(t, {
                messages: s,
                state: r,
                agent: this,
                input: a
            });
        });
        (n.messages !== void 0 || n.state !== void 0) && (n.messages && (this.messages = n.messages, a.messages = n.messages, e.forEach((t)=>{
            var s;
            (s = t.onMessagesChanged) == null || s.call(t, {
                messages: this.messages,
                state: this.state,
                agent: this,
                input: a
            });
        })), n.state && (this.state = n.state, a.state = n.state, e.forEach((t)=>{
            var s;
            (s = t.onStateChanged) == null || s.call(t, {
                state: this.state,
                messages: this.messages,
                agent: this,
                input: a
            });
        })));
    }
    onError(a, e, n) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["from"])(x(n, this.messages, this.state, (t, s, r)=>{
            var o;
            return (o = t.onRunFailed) == null ? void 0 : o.call(t, {
                error: e,
                messages: s,
                state: r,
                agent: this,
                input: a
            });
        })).pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["map"])((t)=>{
            let s = t;
            if ((s.messages !== void 0 || s.state !== void 0) && (s.messages !== void 0 && (this.messages = s.messages, n.forEach((r)=>{
                var o;
                (o = r.onMessagesChanged) == null || o.call(r, {
                    messages: this.messages,
                    state: this.state,
                    agent: this,
                    input: a
                });
            })), s.state !== void 0 && (this.state = s.state, n.forEach((r)=>{
                var o;
                (o = r.onStateChanged) == null || o.call(r, {
                    state: this.state,
                    messages: this.messages,
                    agent: this,
                    input: a
                });
            }))), s.stopPropagation !== !0) throw console.error("Agent execution failed:", e), e;
            return {};
        }));
    }
    async onFinalize(a, e) {
        let n = await x(e, this.messages, this.state, (t, s, r)=>{
            var o;
            return (o = t.onRunFinalized) == null ? void 0 : o.call(t, {
                messages: s,
                state: r,
                agent: this,
                input: a
            });
        });
        (n.messages !== void 0 || n.state !== void 0) && (n.messages !== void 0 && (this.messages = n.messages, e.forEach((t)=>{
            var s;
            (s = t.onMessagesChanged) == null || s.call(t, {
                messages: this.messages,
                state: this.state,
                agent: this,
                input: a
            });
        })), n.state !== void 0 && (this.state = n.state, e.forEach((t)=>{
            var s;
            (s = t.onStateChanged) == null || s.call(t, {
                state: this.state,
                messages: this.messages,
                agent: this,
                input: a
            });
        })));
    }
    clone() {
        let a = Object.create(Object.getPrototypeOf(this));
        return a.agentId = this.agentId, a.description = this.description, a.threadId = this.threadId, a.messages = y(this.messages), a.state = y(this.state), a.debug = this.debug, a.isRunning = this.isRunning, a.subscribers = [
            ...this.subscribers
        ], a.middlewares = [
            ...this.middlewares
        ], a;
    }
    addMessage(a) {
        this.messages.push(a), (async ()=>{
            var e, n, t;
            for (let s of this.subscribers)await ((e = s.onNewMessage) == null ? void 0 : e.call(s, {
                message: a,
                messages: this.messages,
                state: this.state,
                agent: this
            }));
            if (a.role === "assistant" && a.toolCalls) for (let s of a.toolCalls)for (let r of this.subscribers)await ((n = r.onNewToolCall) == null ? void 0 : n.call(r, {
                toolCall: s,
                messages: this.messages,
                state: this.state,
                agent: this
            }));
            for (let s of this.subscribers)await ((t = s.onMessagesChanged) == null ? void 0 : t.call(s, {
                messages: this.messages,
                state: this.state,
                agent: this
            }));
        })();
    }
    addMessages(a) {
        this.messages.push(...a), (async ()=>{
            var e, n, t;
            for (let s of a){
                for (let r of this.subscribers)await ((e = r.onNewMessage) == null ? void 0 : e.call(r, {
                    message: s,
                    messages: this.messages,
                    state: this.state,
                    agent: this
                }));
                if (s.role === "assistant" && s.toolCalls) for (let r of s.toolCalls)for (let o of this.subscribers)await ((n = o.onNewToolCall) == null ? void 0 : n.call(o, {
                    toolCall: r,
                    messages: this.messages,
                    state: this.state,
                    agent: this
                }));
            }
            for (let s of this.subscribers)await ((t = s.onMessagesChanged) == null ? void 0 : t.call(s, {
                messages: this.messages,
                state: this.state,
                agent: this
            }));
        })();
    }
    setMessages(a) {
        this.messages = y(a), (async ()=>{
            var e;
            for (let n of this.subscribers)await ((e = n.onMessagesChanged) == null ? void 0 : e.call(n, {
                messages: this.messages,
                state: this.state,
                agent: this
            }));
        })();
    }
    setState(a) {
        this.state = y(a), (async ()=>{
            var e;
            for (let n of this.subscribers)await ((e = n.onStateChanged) == null ? void 0 : e.call(n, {
                messages: this.messages,
                state: this.state,
                agent: this
            }));
        })();
    }
    legacy_to_be_removed_runAgentBridged(a) {
        var t;
        this.agentId = (t = this.agentId) != null ? t : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])();
        let e = this.prepareRunAgentInput(a);
        return (this.middlewares.length === 0 ? this.run(e) : this.middlewares.reduceRight((r, o)=>({
                run: (i)=>o.run(i, r)
            }), this).run(e)).pipe(j(this.debug), z(this.debug), at(this.threadId, e.runId, this.agentId), (s)=>s.pipe((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$operators$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["map"])((r)=>(this.debug && console.debug("[LEGACY]:", JSON.stringify(r)), r))));
    }
};
var ot = class extends W {
    constructor(e){
        var n;
        super(e);
        this.abortController = new AbortController;
        this.url = e.url, this.headers = y((n = e.headers) != null ? n : {});
    }
    requestInit(e) {
        return {
            method: "POST",
            headers: G(N({}, this.headers), {
                "Content-Type": "application/json",
                Accept: "text/event-stream"
            }),
            body: JSON.stringify(e),
            signal: this.abortController.signal
        };
    }
    runAgent(e, n) {
        var t;
        return this.abortController = (t = e == null ? void 0 : e.abortController) != null ? t : new AbortController, super.runAgent(e, n);
    }
    abortRun() {
        this.abortController.abort(), super.abortRun();
    }
    run(e) {
        let n = tt(this.url, this.requestInit(e));
        return st(n);
    }
    clone() {
        var s;
        let e = super.clone();
        e.url = this.url, e.headers = y((s = this.headers) != null ? s : {});
        let n = new AbortController, t = this.abortController.signal;
        return t.aborted && n.abort(t.reason), e.abortController = n, e;
    }
};
;
function he(l) {
    let a = [], e = new Map, n = new Map;
    for (let t of l)if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_START) {
        let s = t, r = s.messageId;
        e.has(r) || e.set(r, {
            contents: [],
            otherEvents: []
        });
        let o = e.get(r);
        o.start = s;
    } else if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT) {
        let s = t, r = s.messageId;
        e.has(r) || e.set(r, {
            contents: [],
            otherEvents: []
        }), e.get(r).contents.push(s);
    } else if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_END) {
        let s = t, r = s.messageId;
        e.has(r) || e.set(r, {
            contents: [],
            otherEvents: []
        });
        let o = e.get(r);
        o.end = s, Rt(r, o, a), e.delete(r);
    } else if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_START) {
        let s = t, r = s.toolCallId;
        n.has(r) || n.set(r, {
            args: [],
            otherEvents: []
        });
        let o = n.get(r);
        o.start = s;
    } else if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS) {
        let s = t, r = s.toolCallId;
        n.has(r) || n.set(r, {
            args: [],
            otherEvents: []
        }), n.get(r).args.push(s);
    } else if (t.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_END) {
        let s = t, r = s.toolCallId;
        n.has(r) || n.set(r, {
            args: [],
            otherEvents: []
        });
        let o = n.get(r);
        o.end = s, It(r, o, a), n.delete(r);
    } else {
        let s = !1;
        for (let [r, o] of e)if (o.start && !o.end) {
            o.otherEvents.push(t), s = !0;
            break;
        }
        if (!s) {
            for (let [r, o] of n)if (o.start && !o.end) {
                o.otherEvents.push(t), s = !0;
                break;
            }
        }
        s || a.push(t);
    }
    for (let [t, s] of e)Rt(t, s, a);
    for (let [t, s] of n)It(t, s, a);
    return a;
}
function Rt(l, a, e) {
    if (a.start && e.push(a.start), a.contents.length > 0) {
        let n = a.contents.map((s)=>s.delta).join(""), t = {
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TEXT_MESSAGE_CONTENT,
            messageId: l,
            delta: n
        };
        e.push(t);
    }
    a.end && e.push(a.end);
    for (let n of a.otherEvents)e.push(n);
}
function It(l, a, e) {
    if (a.start && e.push(a.start), a.args.length > 0) {
        let n = a.args.map((s)=>s.delta).join(""), t = {
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"].TOOL_CALL_ARGS,
            toolCallId: l,
            delta: n
        };
        e.push(t);
    }
    a.end && e.push(a.end);
    for (let n of a.otherEvents)e.push(n);
}
;
;
 //# sourceMappingURL=index.mjs.map
}),
"[project]/node_modules/@ag-ui/client/dist/index.mjs [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AGUIConnectNotImplementedError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIConnectNotImplementedError"],
    "AGUIError",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AGUIError"],
    "AbstractAgent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["AbstractAgent"],
    "ActivityDeltaEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ActivityDeltaEventSchema"],
    "ActivityMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ActivityMessageSchema"],
    "ActivitySnapshotEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ActivitySnapshotEventSchema"],
    "AssistantMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AssistantMessageSchema"],
    "BackwardCompatibility_0_0_39",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["BackwardCompatibility_0_0_39"],
    "BaseEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseEventSchema"],
    "BaseMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseMessageSchema"],
    "BinaryInputContentSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BinaryInputContentSchema"],
    "ContextSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ContextSchema"],
    "CustomEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CustomEventSchema"],
    "DeveloperMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DeveloperMessageSchema"],
    "EventSchemas",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventSchemas"],
    "EventType",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EventType"],
    "FilterToolCallsMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["FilterToolCallsMiddleware"],
    "FunctionCallSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FunctionCallSchema"],
    "FunctionMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["FunctionMiddleware"],
    "HttpAgent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["HttpAgent"],
    "InputContentSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["InputContentSchema"],
    "MessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MessageSchema"],
    "MessagesSnapshotEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MessagesSnapshotEventSchema"],
    "Middleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Middleware"],
    "RawEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RawEventSchema"],
    "RoleSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RoleSchema"],
    "RunAgentInputSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RunAgentInputSchema"],
    "RunErrorEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RunErrorEventSchema"],
    "RunFinishedEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RunFinishedEventSchema"],
    "RunStartedEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RunStartedEventSchema"],
    "StateDeltaEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["StateDeltaEventSchema"],
    "StateSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["StateSchema"],
    "StateSnapshotEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["StateSnapshotEventSchema"],
    "StepFinishedEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["StepFinishedEventSchema"],
    "StepStartedEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["StepStartedEventSchema"],
    "SystemMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SystemMessageSchema"],
    "TextInputContentSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TextInputContentSchema"],
    "TextMessageChunkEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TextMessageChunkEventSchema"],
    "TextMessageContentEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TextMessageContentEventSchema"],
    "TextMessageEndEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TextMessageEndEventSchema"],
    "TextMessageStartEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TextMessageStartEventSchema"],
    "ThinkingEndEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ThinkingEndEventSchema"],
    "ThinkingStartEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ThinkingStartEventSchema"],
    "ThinkingTextMessageContentEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ThinkingTextMessageContentEventSchema"],
    "ThinkingTextMessageEndEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ThinkingTextMessageEndEventSchema"],
    "ThinkingTextMessageStartEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ThinkingTextMessageStartEventSchema"],
    "ToolCallArgsEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolCallArgsEventSchema"],
    "ToolCallChunkEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolCallChunkEventSchema"],
    "ToolCallEndEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolCallEndEventSchema"],
    "ToolCallResultEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolCallResultEventSchema"],
    "ToolCallSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolCallSchema"],
    "ToolCallStartEventSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolCallStartEventSchema"],
    "ToolMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolMessageSchema"],
    "ToolSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ToolSchema"],
    "UserMessageSchema",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UserMessageSchema"],
    "compactEvents",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["compactEvents"],
    "convertToLegacyEvents",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["convertToLegacyEvents"],
    "defaultApplyEvents",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["defaultApplyEvents"],
    "parseProtoStream",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parseProtoStream"],
    "parseSSEStream",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parseSSEStream"],
    "randomUUID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["randomUUID"],
    "runHttpRequest",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["runHttpRequest"],
    "structuredClone_",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["structuredClone_"],
    "transformChunks",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["transformChunks"],
    "transformHttpEventStream",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["transformHttpEventStream"],
    "verifyEvents",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["verifyEvents"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$client$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ag-ui/client/dist/index.mjs [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ag$2d$ui$2f$core$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ag-ui/core/dist/index.mjs [app-ssr] (ecmascript)");
}),
];

//# sourceMappingURL=node_modules_%40ag-ui_client_dist_index_mjs_9878680f._.js.map