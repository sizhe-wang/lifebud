import { Message, AbstractAgent, AgentConfig, RunAgentInput, BaseEvent } from '@ag-ui/client';
import { Agent } from '@mastra/core/agent';
import { RequestContext } from '@mastra/core/request-context';
import { Observable } from 'rxjs';
import { MastraClient } from '@mastra/client-js';
import { Mastra } from '@mastra/core';
import { CoreMessage } from '@mastra/core/llm';

declare function convertAGUIMessagesToMastra(messages: Message[]): CoreMessage[];
interface GetRemoteAgentsOptions {
    mastraClient: MastraClient;
    resourceId: string;
}
declare function getRemoteAgents({ mastraClient, resourceId, }: GetRemoteAgentsOptions): Promise<Record<string, AbstractAgent>>;
interface GetLocalAgentsOptions {
    mastra: Mastra;
    resourceId: string;
    requestContext?: RequestContext;
}
declare function getLocalAgents({ mastra, resourceId, requestContext, }: GetLocalAgentsOptions): Record<string, AbstractAgent>;
interface GetLocalAgentOptions {
    mastra: Mastra;
    agentId: string;
    resourceId: string;
    requestContext?: RequestContext;
}
declare function getLocalAgent({ mastra, agentId, resourceId, requestContext, }: GetLocalAgentOptions): AbstractAgent;
interface GetNetworkOptions {
    mastra: Mastra;
    networkId: string;
    resourceId: string;
    requestContext?: RequestContext;
}
declare function getNetwork({ mastra, networkId, resourceId, requestContext }: GetNetworkOptions): AbstractAgent;

type RemoteMastraAgent = ReturnType<MastraClient["getAgent"]>;
interface MastraAgentConfig extends AgentConfig {
    agent: Agent | RemoteMastraAgent;
    resourceId: string;
    requestContext?: RequestContext;
}
declare class MastraAgent extends AbstractAgent {
    private config;
    agent: Agent | RemoteMastraAgent;
    resourceId: string;
    requestContext?: RequestContext;
    constructor(config: MastraAgentConfig);
    clone(): MastraAgent;
    run(input: RunAgentInput): Observable<BaseEvent>;
    isLocalMastraAgent(agent: Agent | RemoteMastraAgent): agent is Agent;
    /**
     * Streams in process or remote mastra agent.
     * @param input - The input for the mastra agent.
     * @param options - The options for the mastra agent.
     * @returns The stream of the mastra agent.
     */
    private streamMastraAgent;
    static getRemoteAgents(options: GetRemoteAgentsOptions): Promise<Record<string, AbstractAgent>>;
    static getLocalAgents(options: GetLocalAgentsOptions): Record<string, AbstractAgent>;
    static getLocalAgent(options: GetLocalAgentOptions): AbstractAgent;
    static getNetwork(options: GetNetworkOptions): AbstractAgent;
}

export { type GetLocalAgentOptions, type GetLocalAgentsOptions, type GetNetworkOptions, type GetRemoteAgentsOptions, MastraAgent, type MastraAgentConfig, convertAGUIMessagesToMastra, getLocalAgent, getLocalAgents, getNetwork, getRemoteAgents };
