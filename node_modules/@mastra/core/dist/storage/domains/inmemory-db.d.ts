import type { StorageThreadType } from '../../memory/types.js';
import type { StorageAgentType, StorageMessageType, StorageResourceType, StorageWorkflowRun } from '../types.js';
import type { TraceEntry } from './observability/index.js';
/**
 * InMemoryDB is a thin database layer for in-memory storage.
 * It holds all the Maps that store data, similar to how a real database
 * connection (pg-promise client, libsql client) is shared across domains.
 *
 * Each domain receives a reference to this db and operates on the relevant Maps.
 */
export declare class InMemoryDB {
    readonly threads: Map<string, StorageThreadType>;
    readonly messages: Map<string, StorageMessageType>;
    readonly resources: Map<string, StorageResourceType>;
    readonly workflows: Map<string, StorageWorkflowRun>;
    readonly scores: Map<string, {
        runId: string;
        source: "LIVE" | "TEST";
        id: string;
        createdAt: Date;
        updatedAt: Date | null;
        scorer: Record<string, unknown>;
        entity: Record<string, unknown>;
        score: number;
        scorerId: string;
        entityId: string;
        input?: unknown;
        threadId?: string | undefined;
        resourceId?: string | undefined;
        metadata?: Record<string, unknown> | undefined;
        output?: unknown;
        additionalContext?: Record<string, unknown> | undefined;
        requestContext?: Record<string, unknown> | undefined;
        entityType?: string | undefined;
        structuredOutput?: boolean | undefined;
        traceId?: string | undefined;
        spanId?: string | undefined;
        extractStepResult?: Record<string, unknown> | undefined;
        extractPrompt?: string | undefined;
        analyzeStepResult?: Record<string, unknown> | undefined;
        analyzePrompt?: string | undefined;
        reason?: string | undefined;
        reasonPrompt?: string | undefined;
        preprocessStepResult?: Record<string, unknown> | undefined;
        preprocessPrompt?: string | undefined;
        generateScorePrompt?: string | undefined;
        generateReasonPrompt?: string | undefined;
    }>;
    readonly traces: Map<string, TraceEntry>;
    readonly agents: Map<string, StorageAgentType>;
    /**
     * Clears all data from all collections.
     * Useful for testing.
     */
    clear(): void;
}
//# sourceMappingURL=inmemory-db.d.ts.map