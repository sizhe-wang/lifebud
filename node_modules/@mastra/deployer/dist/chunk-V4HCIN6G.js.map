{"version":3,"sources":["../../../node_modules/.pnpm/@standard-community+standard-openapi@0.2.9_@standard-community+standard-json@0.3.5_@sta_54b5e515d9ef28e1ec1313d6d3effba2/node_modules/@standard-community/standard-openapi/dist/vendors/convert.js"],"names":[],"mappings":"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","file":"chunk-V4HCIN6G.js","sourcesContent":["function convertToOpenAPISchema(jsonSchema, context) {\n  const _jsonSchema = JSON.parse(JSON.stringify(jsonSchema));\n  if (\"nullable\" in _jsonSchema && _jsonSchema.nullable === true) {\n    if (_jsonSchema.type) {\n      if (Array.isArray(_jsonSchema.type)) {\n        if (!_jsonSchema.type.includes(\"null\")) {\n          _jsonSchema.type.push(\"null\");\n        }\n      } else {\n        _jsonSchema.type = [_jsonSchema.type, \"null\"];\n      }\n    } else {\n      _jsonSchema.type = [\"null\"];\n    }\n    delete _jsonSchema.nullable;\n  }\n  if (_jsonSchema.$schema) {\n    delete _jsonSchema.$schema;\n  }\n  const nestedSchemaKeys = [\n    \"properties\",\n    \"additionalProperties\",\n    \"items\",\n    \"additionalItems\",\n    \"allOf\",\n    \"anyOf\",\n    \"oneOf\",\n    \"not\",\n    \"if\",\n    \"then\",\n    \"else\",\n    \"definitions\",\n    \"$defs\",\n    \"patternProperties\",\n    \"propertyNames\",\n    \"contains\"\n    // \"unevaluatedProperties\",\n    // \"unevaluatedItems\",\n  ];\n  nestedSchemaKeys.forEach((key) => {\n    if (_jsonSchema[key] && (typeof _jsonSchema[key] === \"object\" || Array.isArray(_jsonSchema[key]))) {\n      if (key === \"properties\" || key === \"definitions\" || key === \"$defs\" || key === \"patternProperties\") {\n        for (const subKey in _jsonSchema[key]) {\n          _jsonSchema[key][subKey] = convertToOpenAPISchema(\n            _jsonSchema[key][subKey],\n            context\n          );\n        }\n      } else if (key === \"allOf\" || key === \"anyOf\" || key === \"oneOf\") {\n        _jsonSchema[key] = _jsonSchema[key].map(\n          (item) => convertToOpenAPISchema(item, context)\n        );\n      } else if (key === \"items\") {\n        if (Array.isArray(_jsonSchema[key])) {\n          _jsonSchema[key] = _jsonSchema[key].map(\n            (item) => convertToOpenAPISchema(item, context)\n          );\n        } else {\n          _jsonSchema[key] = convertToOpenAPISchema(_jsonSchema[key], context);\n        }\n      } else {\n        _jsonSchema[key] = convertToOpenAPISchema(_jsonSchema[key], context);\n      }\n    }\n  });\n  if (_jsonSchema.ref || _jsonSchema.$id) {\n    const { ref, $id, ...component } = _jsonSchema;\n    const id = ref || $id;\n    context.components.schemas = {\n      ...context.components.schemas,\n      [id]: component\n    };\n    return {\n      $ref: `#/components/schemas/${id}`\n    };\n  } else if (_jsonSchema.$ref) {\n    const { $ref, $defs } = _jsonSchema;\n    const ref = $ref.split(\"/\").pop();\n    context.components.schemas = {\n      ...context.components.schemas,\n      ...$defs\n    };\n    return {\n      $ref: `#/components/schemas/${ref}`\n    };\n  }\n  return _jsonSchema;\n}\n\nexport { convertToOpenAPISchema };\n"]}