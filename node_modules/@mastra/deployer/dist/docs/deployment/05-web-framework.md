> Learn how Mastra can be deployed when integrated with a Web Framework

# Deploy with a Web Framework

When Mastra is integrated with a web framework, it deploys alongside your application using the framework's standard deployment process. Follow the instructions below to ensure your Mastra integration deploys correctly.

> **Note:**
If you're deploying to a cloud provider, remove any usage of [LibSQLStore](https://mastra.ai/reference/v1/storage/libsql) from your Mastra configuration. LibSQLStore requires filesystem access and is not compatible with serverless platforms.

Integration guides:

- [With Next.js](https://mastra.ai/guides/v1/getting-started/next-js)
- [With Astro](https://mastra.ai/guides/v1/getting-started/astro)

## With Next.js on Vercel

If you've integrated Mastra with Next.js [by following our guide](https://mastra.ai/guides/v1/getting-started/next-js) and plan to deploy to Vercel, add `serverExternalPackages: ["@mastra/*"]` to your `next.config.ts`:

```typescript {4} title="next.config.ts"
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  serverExternalPackages: ["@mastra/*"],
};

export default nextConfig;
```

## With Astro on Vercel

If you've integrated Mastra with Astro [by following our guide](https://mastra.ai/guides/v1/getting-started/astro) and plan to deploy to Vercel, add the Vercel adapter and server output to your `astro.config.mjs`:

```javascript {2,5-6} title="astro.config.mjs"
import { defineConfig } from "astro/config";
import vercel from "@astrojs/vercel";

export default defineConfig({
  adapter: vercel(),
  output: "server",
});
```

## With Astro on Netlify

If you've integrated Mastra with Astro [by following our guide](https://mastra.ai/guides/v1/getting-started/astro) and plan to deploy to Netlify, add the Netlify adapter and server output to your `astro.config.mjs`:

```javascript {2,5-6} title="astro.config.mjs"
import { defineConfig } from "astro/config";
import netlify from "@astrojs/netlify";

export default defineConfig({
  adapter: netlify(),
  output: "server",
});
```