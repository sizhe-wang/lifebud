{"version":3,"sources":["../../../node_modules/.pnpm/@standard-community+standard-openapi@0.2.9_@standard-community+standard-json@0.3.5_@sta_54b5e515d9ef28e1ec1313d6d3effba2/node_modules/@standard-community/standard-openapi/dist/valibot-D_HTw1Gn.js"],"names":[],"mappings":";;;;AAGA,SAAS,oBAAA,GAAuB;AAC9B,EAAA,OAAO,OAAO,QAAQ,OAAA,KAAY;AAChC,IAAA,MAAM,aAAA,GAAgB,MAAM,YAAA,CAAa,MAAA,EAAQ;AAAA,MAC/C,SAAA,EAAW,QAAA;AAAA;AAAA,MAEX,cAAA,EAAgB,CAAC,EAAE,aAAA,EAAe,YAAW,KAAM;AACjD,QAAA,MAAM,WAAA,GAAc,sBAAA,CAAuB,UAAA,EAAY,OAAO,CAAA;AAC9D,QAAA,IAAI,aAAA,CAAc,SAAS,UAAA,IAAc,aAAA,CAAc,SAAS,UAAA,IAAc,EAAE,UAAU,WAAA,CAAA,EAAc;AACtG,UAAA,MAAM,WAAW,aAAA,CAAc,QAAA;AAC/B,UAAA,IAAI,QAAA,CAAS,YAAY,MAAA,EAAQ;AAC/B,YAAA,WAAA,CAAY,UAAU,QAAA,CAAS,OAAA;AAAA,UACjC;AACA,UAAA,IAAI,QAAA,CAAS,QAAA,IAAY,QAAA,CAAS,QAAA,CAAS,SAAS,CAAA,EAAG;AACrD,YAAA,WAAA,CAAY,WAAW,QAAA,CAAS,QAAA;AAAA,UAClC;AACA,UAAA,IAAI,SAAS,GAAA,EAAK;AAChB,YAAA,OAAA,CAAQ,WAAW,OAAA,GAAU;AAAA,cAC3B,GAAG,QAAQ,UAAA,CAAW,OAAA;AAAA,cACtB,CAAC,QAAA,CAAS,GAAG,GAAG;AAAA,aAClB;AACA,YAAA,OAAO;AAAA,cACL,IAAA,EAAM,CAAA,qBAAA,EAAwB,QAAA,CAAS,GAAG,CAAA;AAAA,aAC5C;AAAA,UACF;AAAA,QACF;AACA,QAAA,OAAO,WAAA;AAAA,MACT,CAAA;AAAA,MACA,GAAG,OAAA,CAAQ;AAAA,KACZ,CAAA;AACD,IAAA,IAAI,aAAa,aAAA,EAAe;AAC9B,MAAA,OAAO,aAAA,CAAc,OAAA;AAAA,IACvB;AACA,IAAA,OAAO,aAAA;AAAA,EACT,CAAA;AACF","file":"valibot-D_HTw1Gn-KWXWP2TJ.js","sourcesContent":["import { toJsonSchema } from '@standard-community/standard-json';\nimport { convertToOpenAPISchema } from './vendors/convert.js';\n\nfunction getToOpenAPISchemaFn() {\n  return async (schema, context) => {\n    const openapiSchema = await toJsonSchema(schema, {\n      errorMode: \"ignore\",\n      // @ts-expect-error\n      overrideAction: ({ valibotAction, jsonSchema }) => {\n        const _jsonSchema = convertToOpenAPISchema(jsonSchema, context);\n        if (valibotAction.kind === \"metadata\" && valibotAction.type === \"metadata\" && !(\"$ref\" in _jsonSchema)) {\n          const metadata = valibotAction.metadata;\n          if (metadata.example !== void 0) {\n            _jsonSchema.example = metadata.example;\n          }\n          if (metadata.examples && metadata.examples.length > 0) {\n            _jsonSchema.examples = metadata.examples;\n          }\n          if (metadata.ref) {\n            context.components.schemas = {\n              ...context.components.schemas,\n              [metadata.ref]: _jsonSchema\n            };\n            return {\n              $ref: `#/components/schemas/${metadata.ref}`\n            };\n          }\n        }\n        return _jsonSchema;\n      },\n      ...context.options\n    });\n    if (\"$schema\" in openapiSchema) {\n      delete openapiSchema.$schema;\n    }\n    return openapiSchema;\n  };\n}\n\nexport { getToOpenAPISchemaFn as default };\n"]}