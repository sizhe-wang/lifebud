import type { WorkflowRun, WorkflowRuns, StorageListWorkflowRunsInput, UpdateWorkflowStateOptions } from '@mastra/core/storage';
import { WorkflowsStorage } from '@mastra/core/storage';
import type { WorkflowRunState, StepResult } from '@mastra/core/workflows';
import type { LibSQLDomainConfig } from '../../db/index.js';
export declare class WorkflowsLibSQL extends WorkflowsStorage {
    #private;
    private readonly executeWithRetry;
    constructor(config: LibSQLDomainConfig);
    private parseWorkflowRun;
    init(): Promise<void>;
    dangerouslyClearAll(): Promise<void>;
    private setupPragmaSettings;
    updateWorkflowResults({ workflowName, runId, stepId, result, requestContext, }: {
        workflowName: string;
        runId: string;
        stepId: string;
        result: StepResult<any, any, any, any>;
        requestContext: Record<string, any>;
    }): Promise<Record<string, StepResult<any, any, any, any>>>;
    updateWorkflowState({ workflowName, runId, opts, }: {
        workflowName: string;
        runId: string;
        opts: UpdateWorkflowStateOptions;
    }): Promise<WorkflowRunState | undefined>;
    persistWorkflowSnapshot({ workflowName, runId, resourceId, snapshot, createdAt, updatedAt, }: {
        workflowName: string;
        runId: string;
        resourceId?: string;
        snapshot: WorkflowRunState;
        createdAt?: Date;
        updatedAt?: Date;
    }): Promise<void>;
    loadWorkflowSnapshot({ workflowName, runId, }: {
        workflowName: string;
        runId: string;
    }): Promise<WorkflowRunState | null>;
    getWorkflowRunById({ runId, workflowName, }: {
        runId: string;
        workflowName?: string;
    }): Promise<WorkflowRun | null>;
    deleteWorkflowRunById({ runId, workflowName }: {
        runId: string;
        workflowName: string;
    }): Promise<void>;
    listWorkflowRuns({ workflowName, fromDate, toDate, page, perPage, resourceId, status, }?: StorageListWorkflowRunsInput): Promise<WorkflowRuns>;
}
//# sourceMappingURL=index.d.ts.map