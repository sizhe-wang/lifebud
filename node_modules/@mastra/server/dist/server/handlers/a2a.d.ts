import type { MessageSendParams, TaskQueryParams, TaskIdParams, AgentCard } from '@mastra/core/a2a';
import type { Agent } from '@mastra/core/agent';
import type { IMastraLogger } from '@mastra/core/logger';
import type { RequestContext } from '@mastra/core/request-context';
import { z } from 'zod';
import type { InMemoryTaskStore } from '../a2a/store.js';
import type { Context } from '../types.js';
export declare function getAgentCardByIdHandler({ mastra, agentId, executionUrl, provider, version, requestContext, }: Context & {
    requestContext: RequestContext;
    agentId: keyof ReturnType<typeof mastra.listAgents>;
    executionUrl?: string;
    version?: string;
    provider?: {
        organization: string;
        url: string;
    };
}): Promise<AgentCard>;
export declare function handleMessageSend({ requestId, params, taskStore, agent, agentId, logger, requestContext, }: {
    requestId: string;
    params: MessageSendParams;
    taskStore: InMemoryTaskStore;
    agent: Agent;
    agentId: string;
    logger?: IMastraLogger;
    requestContext: RequestContext;
}): Promise<import("@mastra/core/a2a").JSONRPCResponse<null, unknown> | import("@mastra/core/a2a").JSONRPCResponse<import("@a2a-js/sdk").Task, unknown>>;
export declare function handleTaskGet({ requestId, taskStore, agentId, taskId, }: {
    requestId: string;
    taskStore: InMemoryTaskStore;
    agentId: string;
    taskId: string;
}): Promise<import("@mastra/core/a2a").JSONRPCResponse<import("@a2a-js/sdk").Task, unknown>>;
export declare function handleMessageStream({ requestId, params, taskStore, agent, agentId, logger, requestContext, }: {
    requestId: string;
    params: MessageSendParams;
    taskStore: InMemoryTaskStore;
    agent: Agent;
    agentId: string;
    logger?: IMastraLogger;
    requestContext: RequestContext;
}): AsyncGenerator<import("@mastra/core/a2a").JSONRPCResponse<null, unknown> | import("@mastra/core/a2a").JSONRPCResponse<import("@a2a-js/sdk").Task, unknown> | import("@mastra/core/a2a").JSONRPCResponse<{
    state: string;
    message: {
        messageId: `${string}-${string}-${string}-${string}-${string}`;
        kind: string;
        role: string;
        parts: {
            kind: string;
            text: string;
        }[];
    };
}, unknown>, void, unknown>;
export declare function handleTaskCancel({ requestId, taskStore, agentId, taskId, logger, }: {
    requestId: string;
    taskStore: InMemoryTaskStore;
    agentId: string;
    taskId: string;
    logger?: IMastraLogger;
}): Promise<import("@mastra/core/a2a").JSONRPCResponse<import("@a2a-js/sdk").Task, unknown>>;
export declare function getAgentExecutionHandler({ requestId, mastra, agentId, requestContext, method, params, taskStore, logger, }: Context & {
    requestId: string;
    requestContext: RequestContext;
    agentId: string;
    method: 'message/send' | 'message/stream' | 'tasks/get' | 'tasks/cancel';
    params: MessageSendParams | TaskQueryParams | TaskIdParams;
    taskStore: InMemoryTaskStore;
    logger?: IMastraLogger;
}): Promise<any>;
export declare const GET_AGENT_CARD_ROUTE: import("../server-adapter").ServerRoute<{
    agentId: string;
}, {
    name: string;
    description: string;
    url: string;
    version: string;
    capabilities: {
        streaming?: boolean | undefined;
        pushNotifications?: boolean | undefined;
        stateTransitionHistory?: boolean | undefined;
    };
    defaultInputModes: string[];
    defaultOutputModes: string[];
    skills: {
        name: string;
        id: string;
        description: string;
        tags?: string[] | undefined;
    }[];
    provider?: {
        url: string;
        organization: string;
    } | undefined;
}, "json">;
export declare const AGENT_EXECUTION_ROUTE: import("../server-adapter").ServerRoute<import("../server-adapter").InferParams<z.ZodObject<{
    agentId: z.ZodString;
}, "strip", z.ZodTypeAny, {
    agentId: string;
}, {
    agentId: string;
}>, undefined, z.ZodObject<{
    jsonrpc: z.ZodLiteral<"2.0">;
    id: z.ZodUnion<[z.ZodString, z.ZodNumber]>;
    method: z.ZodEnum<["message/send", "message/stream", "tasks/get", "tasks/cancel"]>;
    params: z.ZodUnion<[z.ZodObject<{
        message: z.ZodObject<{
            kind: z.ZodLiteral<"message">;
            messageId: z.ZodString;
            role: z.ZodEnum<["user", "agent"]>;
            parts: z.ZodArray<z.ZodUnion<[z.ZodObject<{
                kind: z.ZodLiteral<"text">;
                text: z.ZodString;
                metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
            }, "strip", z.ZodTypeAny, {
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            }, {
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            }>, z.ZodObject<{
                kind: z.ZodLiteral<"file">;
                file: z.ZodUnion<[z.ZodObject<{
                    bytes: z.ZodString;
                    mimeType: z.ZodOptional<z.ZodString>;
                    name: z.ZodOptional<z.ZodString>;
                }, "strip", z.ZodTypeAny, {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                }, {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                }>, z.ZodObject<{
                    uri: z.ZodString;
                    mimeType: z.ZodOptional<z.ZodString>;
                    name: z.ZodOptional<z.ZodString>;
                }, "strip", z.ZodTypeAny, {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                }, {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                }>]>;
                metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
            }, "strip", z.ZodTypeAny, {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            }, {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            }>, z.ZodObject<{
                kind: z.ZodLiteral<"data">;
                data: z.ZodRecord<z.ZodString, z.ZodUnknown>;
                metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
            }, "strip", z.ZodTypeAny, {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            }, {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            }>]>, "many">;
            contextId: z.ZodOptional<z.ZodString>;
            taskId: z.ZodOptional<z.ZodString>;
            referenceTaskIds: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
            extensions: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
            metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
        }, "strip", z.ZodTypeAny, {
            parts: ({
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            } | {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            } | {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            })[];
            kind: "message";
            messageId: string;
            role: "user" | "agent";
            metadata?: Record<string, unknown> | undefined;
            taskId?: string | undefined;
            contextId?: string | undefined;
            referenceTaskIds?: string[] | undefined;
            extensions?: string[] | undefined;
        }, {
            parts: ({
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            } | {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            } | {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            })[];
            kind: "message";
            messageId: string;
            role: "user" | "agent";
            metadata?: Record<string, unknown> | undefined;
            taskId?: string | undefined;
            contextId?: string | undefined;
            referenceTaskIds?: string[] | undefined;
            extensions?: string[] | undefined;
        }>;
        configuration: z.ZodOptional<z.ZodObject<{
            acceptedOutputModes: z.ZodArray<z.ZodString, "many">;
            blocking: z.ZodOptional<z.ZodBoolean>;
            historyLength: z.ZodOptional<z.ZodNumber>;
            pushNotificationConfig: z.ZodOptional<z.ZodObject<{
                url: z.ZodString;
                id: z.ZodOptional<z.ZodString>;
                token: z.ZodOptional<z.ZodString>;
                authentication: z.ZodOptional<z.ZodObject<{
                    schemes: z.ZodArray<z.ZodString, "many">;
                    credentials: z.ZodOptional<z.ZodString>;
                }, "strip", z.ZodTypeAny, {
                    schemes: string[];
                    credentials?: string | undefined;
                }, {
                    schemes: string[];
                    credentials?: string | undefined;
                }>>;
            }, "strip", z.ZodTypeAny, {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            }, {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            }>>;
        }, "strip", z.ZodTypeAny, {
            acceptedOutputModes: string[];
            blocking?: boolean | undefined;
            historyLength?: number | undefined;
            pushNotificationConfig?: {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            } | undefined;
        }, {
            acceptedOutputModes: string[];
            blocking?: boolean | undefined;
            historyLength?: number | undefined;
            pushNotificationConfig?: {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            } | undefined;
        }>>;
        metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
    }, "strip", z.ZodTypeAny, {
        message: {
            parts: ({
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            } | {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            } | {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            })[];
            kind: "message";
            messageId: string;
            role: "user" | "agent";
            metadata?: Record<string, unknown> | undefined;
            taskId?: string | undefined;
            contextId?: string | undefined;
            referenceTaskIds?: string[] | undefined;
            extensions?: string[] | undefined;
        };
        metadata?: Record<string, unknown> | undefined;
        configuration?: {
            acceptedOutputModes: string[];
            blocking?: boolean | undefined;
            historyLength?: number | undefined;
            pushNotificationConfig?: {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            } | undefined;
        } | undefined;
    }, {
        message: {
            parts: ({
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            } | {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            } | {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            })[];
            kind: "message";
            messageId: string;
            role: "user" | "agent";
            metadata?: Record<string, unknown> | undefined;
            taskId?: string | undefined;
            contextId?: string | undefined;
            referenceTaskIds?: string[] | undefined;
            extensions?: string[] | undefined;
        };
        metadata?: Record<string, unknown> | undefined;
        configuration?: {
            acceptedOutputModes: string[];
            blocking?: boolean | undefined;
            historyLength?: number | undefined;
            pushNotificationConfig?: {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            } | undefined;
        } | undefined;
    }>, z.ZodObject<{
        id: z.ZodString;
        historyLength: z.ZodOptional<z.ZodNumber>;
        metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
    }, "strip", z.ZodTypeAny, {
        id: string;
        metadata?: Record<string, unknown> | undefined;
        historyLength?: number | undefined;
    }, {
        id: string;
        metadata?: Record<string, unknown> | undefined;
        historyLength?: number | undefined;
    }>, z.ZodObject<{
        id: z.ZodString;
        metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
    }, "strip", z.ZodTypeAny, {
        id: string;
        metadata?: Record<string, unknown> | undefined;
    }, {
        id: string;
        metadata?: Record<string, unknown> | undefined;
    }>]>;
}, "strip", z.ZodTypeAny, {
    params: {
        message: {
            parts: ({
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            } | {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            } | {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            })[];
            kind: "message";
            messageId: string;
            role: "user" | "agent";
            metadata?: Record<string, unknown> | undefined;
            taskId?: string | undefined;
            contextId?: string | undefined;
            referenceTaskIds?: string[] | undefined;
            extensions?: string[] | undefined;
        };
        metadata?: Record<string, unknown> | undefined;
        configuration?: {
            acceptedOutputModes: string[];
            blocking?: boolean | undefined;
            historyLength?: number | undefined;
            pushNotificationConfig?: {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            } | undefined;
        } | undefined;
    } | {
        id: string;
        metadata?: Record<string, unknown> | undefined;
        historyLength?: number | undefined;
    } | {
        id: string;
        metadata?: Record<string, unknown> | undefined;
    };
    id: string | number;
    jsonrpc: "2.0";
    method: "message/send" | "message/stream" | "tasks/get" | "tasks/cancel";
}, {
    params: {
        message: {
            parts: ({
                text: string;
                kind: "text";
                metadata?: Record<string, unknown> | undefined;
            } | {
                file: {
                    bytes: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                } | {
                    uri: string;
                    name?: string | undefined;
                    mimeType?: string | undefined;
                };
                kind: "file";
                metadata?: Record<string, unknown> | undefined;
            } | {
                data: Record<string, unknown>;
                kind: "data";
                metadata?: Record<string, unknown> | undefined;
            })[];
            kind: "message";
            messageId: string;
            role: "user" | "agent";
            metadata?: Record<string, unknown> | undefined;
            taskId?: string | undefined;
            contextId?: string | undefined;
            referenceTaskIds?: string[] | undefined;
            extensions?: string[] | undefined;
        };
        metadata?: Record<string, unknown> | undefined;
        configuration?: {
            acceptedOutputModes: string[];
            blocking?: boolean | undefined;
            historyLength?: number | undefined;
            pushNotificationConfig?: {
                url: string;
                id?: string | undefined;
                token?: string | undefined;
                authentication?: {
                    schemes: string[];
                    credentials?: string | undefined;
                } | undefined;
            } | undefined;
        } | undefined;
    } | {
        id: string;
        metadata?: Record<string, unknown> | undefined;
        historyLength?: number | undefined;
    } | {
        id: string;
        metadata?: Record<string, unknown> | undefined;
    };
    id: string | number;
    jsonrpc: "2.0";
    method: "message/send" | "message/stream" | "tasks/get" | "tasks/cancel";
}>>, unknown, "json">;
//# sourceMappingURL=a2a.d.ts.map