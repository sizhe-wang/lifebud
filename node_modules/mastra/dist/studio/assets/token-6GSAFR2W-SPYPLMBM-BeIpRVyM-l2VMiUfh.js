import{r as O}from"./chunk-55VPMN3N-C6D-FCqV-DthKqnhT.js";import{_ as m,r as w}from"./main-BWrt59ut.js";import"./index-Zov34v2X.js";var y=m({"../../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/token.js"(T,p){var a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,k=Object.prototype.hasOwnProperty,d=(e,r)=>{for(var o in r)a(e,o,{get:r[o],enumerable:!0})},f=(e,r,o,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of s(r))!k.call(e,i)&&i!==o&&a(e,i,{get:()=>r[i],enumerable:!(n=l(r,i))||n.enumerable});return e},u=e=>f(a({},"__esModule",{value:!0}),e),_={};d(_,{refreshToken:()=>v}),p.exports=u(_);var c=w(),t=O();async function v(){const{projectId:e,teamId:r}=(0,t.findProjectInfo)();let o=(0,t.loadToken)(e);if(!o||(0,t.isExpired)((0,t.getTokenPayload)(o.token))){const n=(0,t.getVercelCliToken)();if(!n)throw new c.VercelOidcTokenError("Failed to refresh OIDC token: login to vercel cli");if(!e)throw new c.VercelOidcTokenError("Failed to refresh OIDC token: project id not found");if(o=await(0,t.getVercelOidcToken)(n,e,r),!o)throw new c.VercelOidcTokenError("Failed to refresh OIDC token");(0,t.saveToken)(o,e)}o.token}}}),b=y();export{b as default};
